class t extends Phaser.Scene{constructor(){super("gameScene")}init(t){this.velocityDelta=t.mode}preload(){this.collected_stars=0,this.load.image("sky","/gravity-stars/night-sky.png"),this.load.image("platform","/gravity-stars/platform.png"),this.load.image("ground","/gravity-stars/ground.png"),this.load.image("star","/gravity-stars/star.png"),this.load.spritesheet("dude","/gravity-stars/dude.png",{frameWidth:32,frameHeight:48})}animationsCreate(){this.anims.create({key:"left",frames:this.anims.generateFrameNumbers("dude",{start:0,end:3}),frameRate:10,repeat:-1}),this.anims.create({key:"turn",frames:[{key:"dude",frame:4}],frameRate:20}),this.anims.create({key:"right",frames:this.anims.generateFrameNumbers("dude",{start:5,end:8}),frameRate:10,repeat:-1})}cursorCreate(){this.cursors=this.input.keyboard.createCursorKeys(),this.velocityCursors=this.input.keyboard.addKeys("ONE,TWO,THREE,FOUR"),this.cursors.left.isDown?(this.player.setVelocityX(-80*(this.velocityDelta+4)),this.player.anims.play("left",!0)):this.cursors.right.isDown?(this.player.setVelocityX(80*(this.velocityDelta+4)),this.player.anims.play("right",!0)):(this.player.setVelocityX(0),this.player.anims.play("turn")),this.cursors.space.isDown&&(this.collected_stars>=4?this.player.setDrag(25*this.collected_stars):this.player.setDrag(125-25*this.velocityDelta)),this.cursors.space.isUp&&this.player.setDrag(0),this.cursors.up.isDown&&this.player.setVelocityY(-120*this.velocityDelta),this.cursors.down.isDown&&!this.player.body.touching.down&&this.player.setVelocityY(120*this.velocityDelta)}collectStar(t,e){e.disableBody(!0,!0),this.collected_stars+=1,this.scoreText.setText("Stars: "+this.collected_stars),15==this.collected_stars&&(this.titleButton.setText("Finish to Title!"),this.scoreText.setText("Planet's Gravity Restored!"),this.player.body.setGravityY(300),this.velocityDelta=3,this.titleButton.x=650)}reset(t){15!==this.collected_stars&&this.scene.restart()}create(){this.add.image(450,550,"sky");let t=this.add.text(900,915,"Reset",{fill:"#fff",fontSize:"20px"});t.depth=10,t.setInteractive(),t.on("pointerdown",()=>this.scene.restart()),this.titleButton=this.add.text(775,915,"Title",{fill:"#fff",fontSize:"20px"}),this.titleButton.depth=10,this.titleButton.setInteractive(),this.titleButton.on("pointerdown",()=>{this.scene.stop("gameScene"),this.scene.start("titleScene")}),this.platforms=this.physics.add.staticGroup(),this.ground=this.physics.add.staticGroup(),this.ground.create(500,925,"ground"),this.platforms.create(600,750,"platform"),this.platforms.create(50,550,"platform"),this.platforms.create(850,325,"platform"),this.platforms.create(1050,100,"platform"),this.player=this.physics.add.sprite(100,650,"dude"),this.player.setBounce(.1),this.player.setCollideWorldBounds(!0),this.player.body.setGravityY(-300),this.physics.add.collider(this.player,this.ground,()=>this.reset(this.player)),this.physics.add.collider(this.player,this.platforms,()=>this.reset(this.player)),this.stars=this.physics.add.group({key:"star",repeat:14,setXY:{x:12,y:0,stepX:70}}),this.physics.add.collider(this.stars,this.platforms),this.physics.add.collider(this.stars,this.ground),this.physics.add.overlap(this.player,this.stars,this.collectStar,null,this),this.scoreText=this.add.text(16,16,"Stars: 0",{fontSize:"32px",fill:"#fff",backgroundColor:"#060d29"}),this.scoreText.setPadding(10),this.animationsCreate()}update(){this.cursorCreate()}}class e extends Phaser.Scene{constructor(){super("titleScene")}preload(){this.load.image("background","/gravity-stars/background.png")}startGame(t){this.scene.stop("titleScene"),this.scene.start("gameScene",{mode:t})}create(){this.add.image(450,550,"background"),this.add.text(400,350,"Gravity Stars!",{fontSize:"32px"});let t=this.add.text(325,450,"Easy!",{fill:"#5399f5"});t.setInteractive(),t.on("pointerdown",()=>this.startGame(1));let e=this.add.text(425,450,"Medium!",{fill:"#5399f5"});e.setInteractive(),e.on("pointerdown",()=>this.startGame(2));let s=this.add.text(550,450,"Hard!",{fill:"#5399f5"});s.setInteractive(),s.on("pointerdown",()=>this.startGame(3));let i=this.add.text(650,450,"Impossible!",{fill:"#5399f5"});i.setInteractive(),i.on("pointerdown",()=>this.startGame(4)),this.add.text(250,500,"You are a purple dude with a jetpack.\nDo NOT touch the ground; Collect all stars to win!\n\nEach level increases the speed and decreases braking power.\nEvery star you collect gives you more braking power.\n\nArrow Keys - control\nSpace - brakes\n\nStory: Your planet's gravity is reversed,\nyou need to save your planet quickly by collecting all the stars!",{fill:"#fff"})}}const s={type:Phaser.AUTO,width:1e3,height:950,physics:{default:"arcade",arcade:{gravity:{y:300},debug:!1}}},i=new Phaser.Game(s);i.scene.add("gameScene",t),i.scene.add("titleScene",e),i.scene.start("titleScene");
//# sourceMappingURL=index.ac7eabc6.js.map
